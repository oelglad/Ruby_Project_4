{"ast":null,"code":"var _jsxFileName = \"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/components/SingleHotel.js\";\nimport React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { indexReservations } from '../services/api_helper';\nexport default class SingleHotel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.setCurrentHotel = async () => {\n      this.setState({\n        currentHotel\n      });\n    };\n\n    this.componentDidMount = async () => {\n      await this.setCurrentHotel();\n      const reservations = this.getAllReservations(this.state.currentHotel.id);\n      console.log(reservations);\n      this.setState({\n        reservations\n      });\n    };\n\n    this.getAllReservations = async id => {\n      const reservations = await indexReservations(id);\n      this.setState({\n        reservations\n      });\n    };\n\n    this.state = {\n      currentHotel: null,\n      reservations: []\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.hotelId !== this.props.hotelId) {\n      this.setCurrentHotel();\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40\n      },\n      __self: this\n    }, this.state.currentHotel && React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    }, this.state.currentHotel.hotel_name), React.createElement(Link, {\n      to: `/hotels/${this.state.currentHotel.id}/edit`,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, \"Edit\")), this.state.reservations.reservations && this.state.reservations.map(reservation => React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, reservation.desc))));\n  }\n\n}","map":{"version":3,"sources":["/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/components/SingleHotel.js"],"names":["React","Component","Link","indexReservations","SingleHotel","constructor","props","setCurrentHotel","setState","currentHotel","componentDidMount","reservations","getAllReservations","state","id","console","log","componentDidUpdate","prevProps","hotelId","render","hotel_name","map","reservation","desc"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,SAASC,iBAAT,QAAkC,wBAAlC;AAEA,eAAe,MAAMC,WAAN,SAA0BH,SAA1B,CAAoC;AACjDI,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SASnBC,eATmB,GASD,YAAY;AAC5B,WAAKC,QAAL,CAAc;AAAEC,QAAAA;AAAF,OAAd;AACD,KAXkB;;AAAA,SAanBC,iBAbmB,GAaC,YAAY;AAC9B,YAAM,KAAKH,eAAL,EAAN;AACA,YAAMI,YAAY,GAAG,KAAKC,kBAAL,CAAwB,KAAKC,KAAL,CAAWJ,YAAX,CAAwBK,EAAhD,CAArB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYL,YAAZ;AACA,WAAKH,QAAL,CAAc;AAAEG,QAAAA;AAAF,OAAd;AACD,KAlBkB;;AAAA,SAqBnBC,kBArBmB,GAqBE,MAAOE,EAAP,IAAc;AACjC,YAAMH,YAAY,GAAG,MAAMR,iBAAiB,CAACW,EAAD,CAA5C;AACA,WAAKN,QAAL,CAAc;AAAEG,QAAAA;AAAF,OAAd;AACD,KAxBkB;;AAGjB,SAAKE,KAAL,GAAa;AACXJ,MAAAA,YAAY,EAAE,IADH;AAEXE,MAAAA,YAAY,EAAE;AAFH,KAAb;AAID;;AAmBDM,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B,QAAIA,SAAS,CAACC,OAAV,KAAsB,KAAKb,KAAL,CAAWa,OAArC,EAA8C;AAC5C,WAAKZ,eAAL;AACD;AACF;;AAEDa,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACG,KAAKP,KAAL,CAAWJ,YAAX,IACC,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAK,KAAKI,KAAL,CAAWJ,YAAX,CAAwBY,UAA7B,CADF,EAEE,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAG,WAAU,KAAKR,KAAL,CAAWJ,YAAX,CAAwBK,EAAG,OAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAxD,CAFF,EAGG,KAAKD,KAAL,CAAWF,YAAX,CAAwBA,YAAxB,IAAwC,KAAKE,KAAL,CAAWF,YAAX,CAAwBW,GAAxB,CAA4BC,WAAW,IAC9E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAIA,WAAW,CAACC,IAAhB,CADuC,CAH3C,CAFJ,CADF;AAaD;;AA/CgD","sourcesContent":["import React, { Component } from 'react';\nimport { Link } from 'react-router-dom';\nimport { indexReservations } from '../services/api_helper';\n\nexport default class SingleHotel extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentHotel: null,\n      reservations: []\n    }\n  }\n\n  setCurrentHotel = async () => {\n    this.setState({ currentHotel })\n  }\n\n  componentDidMount = async () => {\n    await this.setCurrentHotel();\n    const reservations = this.getAllReservations(this.state.currentHotel.id);\n    console.log(reservations);\n    this.setState({ reservations });\n  }\n\n  // READ ALL THE TODOS\n  getAllReservations = async (id) => {\n    const reservations = await indexReservations(id);\n    this.setState({ reservations});\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.hotelId !== this.props.hotelId) {\n      this.setCurrentHotel();\n    }\n  }\n\n  render() {\n    return (\n      <div>\n        {this.state.currentHotel && (\n          <>\n            <h1>{this.state.currentHotel.hotel_name}</h1>\n            <Link to={`/hotels/${this.state.currentHotel.id}/edit`}><button>Edit</button></Link>\n            {this.state.reservations.reservations && this.state.reservations.map(reservation =>\n              <p>{reservation.desc}</p>\n            )}\n          </>\n        )}\n      </div>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}