{"ast":null,"code":"var _jsxFileName = \"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/components/HotelsContainer.js\";\nimport React, { Component } from 'react';\nimport { Route, withRouter, Switch } from 'react-router-dom';\nimport { indexHotels, postHotel, putHotel, verifyUser } from '../services/api_helper';\nimport CreateHotelList from './CreateHotelList';\nimport SingleHotel from './SingleHotel';\nimport HotelForm from './HotelForm';\n\nclass HotelContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getAllHotels = async () => {\n      const hotels = await indexHotels();\n      this.setState({\n        hotels\n      });\n    };\n\n    this.createHotel = async hotelData => {\n      console.log(hotelData);\n      const newHotel = await postHotel(hotelData);\n      this.setState({\n        hotels: [...this.state.hotels, newHotel]\n      });\n      this.props.history.push(\"/hotels\");\n    };\n\n    this.state = {\n      hotels: [{\n        hotel_name: \"\",\n        city: \"\",\n        state: \"\",\n        zip_code: \"\",\n        biography: \"\",\n        img_url: \"\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    verifyUser();\n    this.getAllHotels();\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/hotels\",\n      render: () => React.createElement(CreateHotelList, {\n        hotels: this.state.hotels,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/hotels/new\",\n      render: () => React.createElement(HotelForm, {\n        createHotel: this.createHotel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/hotels/:id\",\n      render: props => React.createElement(SingleHotel, {\n        hotelId: props.match.params.id,\n        hotels: this.state.hotels,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default withRouter(HotelContainer);","map":{"version":3,"sources":["/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/components/HotelsContainer.js"],"names":["React","Component","Route","withRouter","Switch","indexHotels","postHotel","putHotel","verifyUser","CreateHotelList","SingleHotel","HotelForm","HotelContainer","constructor","props","getAllHotels","hotels","setState","createHotel","hotelData","console","log","newHotel","state","history","push","hotel_name","city","zip_code","biography","img_url","componentDidMount","render","match","params","id"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,MAA5B,QAA0C,kBAA1C;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAkCC,QAAlC,EAA4CC,UAA5C,QAA8D,wBAA9D;AACA,OAAOC,eAAP,MAA4B,mBAA5B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,SAAP,MAAsB,aAAtB;;AAGA,MAAMC,cAAN,SAA6BX,SAA7B,CAAuC;AACrCY,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAoBnBC,YApBmB,GAoBJ,YAAY;AACzB,YAAMC,MAAM,GAAG,MAAMX,WAAW,EAAhC;AACA,WAAKY,QAAL,CAAc;AAAED,QAAAA;AAAF,OAAd;AACD,KAvBkB;;AAAA,SAyBnBE,WAzBmB,GAyBL,MAAOC,SAAP,IAAqB;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAYF,SAAZ;AACA,YAAMG,QAAQ,GAAG,MAAMhB,SAAS,CAACa,SAAD,CAAhC;AACA,WAAKF,QAAL,CAAc;AACZD,QAAAA,MAAM,EAAE,CAAC,GAAG,KAAKO,KAAL,CAAWP,MAAf,EAAuBM,QAAvB;AADI,OAAd;AAGA,WAAKR,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB;AACD,KAhCkB;;AAGjB,SAAKF,KAAL,GAAa;AACXP,MAAAA,MAAM,EAAE,CAAC;AACTU,QAAAA,UAAU,EAAE,EADH;AAETC,QAAAA,IAAI,EAAE,EAFG;AAGTJ,QAAAA,KAAK,EAAE,EAHE;AAITK,QAAAA,QAAQ,EAAE,EAJD;AAKTC,QAAAA,SAAS,EAAE,EALF;AAMTC,QAAAA,OAAO,EAAE;AANA,OAAD;AADG,KAAb;AAUD;;AAEDC,EAAAA,iBAAiB,GAAG;AAClBvB,IAAAA,UAAU;AACV,SAAKO,YAAL;AACD;;AAkBDiB,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,SAAlB;AAA4B,MAAA,MAAM,EAAE,MAClC,oBAAC,eAAD;AACE,QAAA,MAAM,EAAE,KAAKT,KAAL,CAAWP,MADrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAME,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,aAAlB;AAAgC,MAAA,MAAM,EAAE,MACtC,oBAAC,SAAD;AACE,QAAA,WAAW,EAAE,KAAKE,WADpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MANF,EAWE,oBAAC,KAAD;AAAO,MAAA,KAAK,MAAZ;AAAa,MAAA,IAAI,EAAC,aAAlB;AAAgC,MAAA,MAAM,EAAGJ,KAAD,IACtC,oBAAC,WAAD;AACE,QAAA,OAAO,EAAEA,KAAK,CAACmB,KAAN,CAAYC,MAAZ,CAAmBC,EAD9B;AAEE,QAAA,MAAM,EAAE,KAAKZ,KAAL,CAAWP,MAFrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,CADF,CADF;AAuBD;;AA7DoC;;AAgEvC,eAAeb,UAAU,CAACS,cAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { Route, withRouter, Switch } from 'react-router-dom';\nimport { indexHotels, postHotel , putHotel, verifyUser } from '../services/api_helper';\nimport CreateHotelList from './CreateHotelList';\nimport SingleHotel from './SingleHotel';\nimport HotelForm from './HotelForm';\n\n\nclass HotelContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hotels: [{\n      hotel_name: \"\",\n      city: \"\",\n      state: \"\",\n      zip_code: \"\",\n      biography: \"\",\n      img_url: \"\"\n      }]\n    }\n  }\n\n  componentDidMount() {\n    verifyUser();\n    this.getAllHotels();\n  }\n\n  getAllHotels = async () => {\n    const hotels = await indexHotels();\n    this.setState({ hotels});\n  }\n\n  createHotel = async (hotelData) => {\n    console.log(hotelData);\n    const newHotel = await postHotel(hotelData);\n    this.setState({\n      hotels: [...this.state.hotels, newHotel]\n    })\n    this.props.history.push(\"/hotels\");\n  }\n\n\n\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route exact path=\"/hotels\" render={() => (\n            <CreateHotelList\n              hotels={this.state.hotels}\n            />\n          )} />\n          <Route exact path=\"/hotels/new\" render={() => (\n            <HotelForm\n              createHotel={this.createHotel}\n            />\n          )} />\n          <Route exact path=\"/hotels/:id\" render={(props) => (\n            <SingleHotel\n              hotelId={props.match.params.id}\n              hotels={this.state.hotels}\n            />\n            \n          )} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(HotelContainer);\n"]},"metadata":{},"sourceType":"module"}