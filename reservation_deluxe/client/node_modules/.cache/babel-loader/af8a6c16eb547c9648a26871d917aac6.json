{"ast":null,"code":"import axios from 'axios';\nconst api = axios.create({\n  baseURL: \"http://localhost:3000\"\n}); //Login\n\nexport const loginUser = async loginData => {\n  const resp = await api.post('/auth/login', loginData);\n  console.log(resp);\n  api.defaults.headers.common.authorization = `Bearer ${resp.data.auth_token}`;\n  localStorage.setItem('authToken', resp.data.auth_token);\n  localStorage.setItem('name', resp.data.user.name);\n  localStorage.setItem('email', resp.data.user.email);\n  return resp.data.user;\n}; //Register\n\nexport const registerUser = async registerData => {\n  try {\n    const resp = await api.post('/signup', registerData);\n    api.defaults.headers.common.authorization = `Bearer ${resp.data.auth_token}`;\n    localStorage.setItem('authToken', resp.data.auth_token);\n    localStorage.setItem('name', resp.data.user.name);\n    localStorage.setItem('email', resp.data.user.email);\n    return resp.data.user;\n  } catch (e) {\n    console.log(e.response);\n\n    if (e.respose.status === 422) {\n      return {\n        errorMessage: \"Email is already associated with a user, please login to continue\"\n      };\n    }\n  }\n}; //Verify user\n\nexport const verifyUser = () => {\n  const token = localStorage.getItem('authToken');\n\n  if (token) {\n    api.defaults.headers.common.authorization = `Bearer ${token}`;\n  }\n}; //Reservations\n// Get All reservations\n\nexport const indexReservations = async () => {\n  const resp = await api.get('/reservations');\n  return resp.data;\n}; //POST reservation\n\nexport const postReservation = async postData => {\n  const resp = await api.post('/reservations', postData);\n  return resp.data;\n}; // UPDATE reservation\n\nexport const putReservation = async (id, postData) => {\n  const resp = await api.put(`/reservations/${id}`, postData);\n  const reservation = {\n    id: id,\n    reservation_desc: resp.data.data\n  };\n  return reservation;\n};","map":{"version":3,"sources":["/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/services/api_helper.js"],"names":["axios","api","create","baseURL","loginUser","loginData","resp","post","console","log","defaults","headers","common","authorization","data","auth_token","localStorage","setItem","user","name","email","registerUser","registerData","e","response","respose","status","errorMessage","verifyUser","token","getItem","indexReservations","get","postReservation","postData","putReservation","id","put","reservation","reservation_desc"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\nconst api = axios.create({\n    baseURL: \"http://localhost:3000\"\n})\n\n//Login\nexport const loginUser = async (loginData) => {\n    const resp = await api.post('/auth/login', loginData);\n    console.log(resp);\n    api.defaults.headers.common.authorization = `Bearer ${resp.data.auth_token}`;\n    localStorage.setItem('authToken', resp.data.auth_token);\n    localStorage.setItem('name', resp.data.user.name);\n    localStorage.setItem('email', resp.data.user.email);\n    return resp.data.user;\n  }\n\n\n  //Register\n\n  export const registerUser = async(registerData) => {\n      try{\n        const resp = await api.post('/signup', registerData);\n        api.defaults.headers.common.authorization = `Bearer ${resp.data.auth_token}`;\n        localStorage.setItem('authToken', resp.data.auth_token);\n        localStorage.setItem('name', resp.data.user.name);\n        localStorage.setItem('email', resp.data.user.email);\n        return resp.data.user;\n      }catch (e) {\n        console.log(e.response);\n        if (e.respose.status === 422) {\n          return {errorMessage: \"Email is already associated with a user, please login to continue\"}\n        }\n      }\n  }\n\n  //Verify user\n  export const verifyUser = () => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      api.defaults.headers.common.authorization = `Bearer ${token}`;\n    }\n  }\n\n  //Reservations\n  // Get All reservations\n  export const indexReservations = async () => {\n    const resp = await api.get('/reservations');\n    return resp.data;\n  }\n  \n  //POST reservation\n  export const postReservation = async (postData) => {\n    const resp = await api.post('/reservations', postData);\n    return resp.data;\n  }\n  \n  // UPDATE reservation\n  export const putReservation= async (id, postData) => {\n    const resp = await api.put(`/reservations/${id}`, postData);\n    const reservation = {id: id, reservation_desc: resp.data.data}\n    return reservation;\n  }"]},"metadata":{},"sourceType":"module"}