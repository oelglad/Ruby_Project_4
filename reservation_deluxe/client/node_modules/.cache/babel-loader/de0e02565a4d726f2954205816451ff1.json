{"ast":null,"code":"var _jsxFileName = \"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/App.js\";\nimport React, { Component } from 'react';\nimport { registerUser, verifyUser, loginUser } from './services/api_helper';\nimport { Route, Link, withRouter } from 'react-router-dom';\nimport Home from './components/Home';\nimport Header from './components/Header';\nimport LoginForm from './components/LoginForm';\nimport Overview from './components/Overview';\nimport Reservation from './components/ReservationContainer';\nimport Footer from './components/Footer';\nimport ReservationContainer from './components/ReservationContainer';\nimport HotelContainer from './components/HotelsContainer';\nimport HotelCarousel from './components/Carousel';\nimport './App.css';\nimport SignUpForm from './components/SignUpForm';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleRegister = async (e, registerData) => {\n      e.preventDefault();\n      const currentUser = await registerUser(registerData);\n      console.log(currentUser);\n\n      if (!currentUser.errorMessage) {\n        this.setState({\n          currentUser\n        });\n        this.props.history.push('/reservations');\n      } else {\n        this.setState({\n          errorText: currentUser.errorMessage\n        });\n      }\n    };\n\n    this.handleLogin = async (e, loginData) => {\n      e.preventDefault();\n      const currentUser = await loginUser(loginData);\n      this.setState({\n        currentUser\n      });\n      this.props.history.push('/');\n    };\n\n    this.handleLogout = () => {\n      this.setState({\n        currentUser: null\n      });\n      localStorage.removeItem('authToken');\n      localStorage.removeItem('name');\n      localStorage.removeItem('email');\n    };\n\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      currentUser: null,\n      errorText: \"\"\n    };\n  }\n\n  componentDidMount() {\n    verifyUser();\n\n    if (localStorage.getItem('authToken')) {\n      const name = localStorage.getItem('name');\n      const email = localStorage.getItem('email');\n      const user = {\n        name,\n        email\n      };\n      user && this.setState({\n        currentUser: user\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/login\",\n      render: () => React.createElement(LoginForm, {\n        handleLogin: this.handleLogin,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }), this.state.currentUser ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Hello, \", this.state.currentUser.name), React.createElement(Route, {\n      path: \"/hotels\",\n      render: () => React.createElement(HotelContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/reservation\",\n      render: () => React.createElement(ReservationContainer, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      onClick: this.handleLogout,\n      id: \"logoutButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, \"Logout\")) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/signup\",\n      render: () => React.createElement(SignUpForm, {\n        handleRegister: this.handleRegister,\n        errorText: this.state.errorText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    })), React.createElement(Route, {\n      path: \"/home\",\n      render: () => React.createElement(Home, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/overview\",\n      render: () => React.createElement(Overview, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/App.js"],"names":["React","Component","registerUser","verifyUser","loginUser","Route","Link","withRouter","Home","Header","LoginForm","Overview","Reservation","Footer","ReservationContainer","HotelContainer","HotelCarousel","SignUpForm","App","constructor","props","handleRegister","e","registerData","preventDefault","currentUser","console","log","errorMessage","setState","history","push","errorText","handleLogin","loginData","handleLogout","localStorage","removeItem","state","name","email","password","componentDidMount","getItem","user","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { registerUser, verifyUser, loginUser } from './services/api_helper';\nimport { Route, Link, withRouter } from 'react-router-dom';\nimport Home from './components/Home';\nimport Header from './components/Header';\nimport LoginForm from './components/LoginForm';\nimport Overview from './components/Overview';\nimport Reservation from './components/ReservationContainer';\nimport Footer from './components/Footer';\nimport ReservationContainer from './components/ReservationContainer';\nimport HotelContainer from './components/HotelsContainer';\nimport HotelCarousel from './components/Carousel';\nimport './App.css';\nimport SignUpForm from './components/SignUpForm';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      currentUser: null,\n      errorText: \"\"\n    }\n  }\n\n  handleRegister = async (e, registerData) => {\n    e.preventDefault();\n    const currentUser = await registerUser(registerData);\n    console.log(currentUser)\n    if (!currentUser.errorMessage) {\n      this.setState({ currentUser });\n      this.props.history.push('/reservations');\n    } else {\n      this.setState({ errorText: currentUser.errorMessage })\n    }\n  }\n\n  handleLogin = async (e, loginData) => {\n    e.preventDefault();\n    const currentUser = await loginUser(loginData);\n    this.setState({ currentUser });\n    this.props.history.push('/');\n  }\n\n  handleLogout = () => {\n    this.setState({\n      currentUser: null\n    })\n    localStorage.removeItem('authToken');\n    localStorage.removeItem('name');\n    localStorage.removeItem('email');\n  }\n\n  componentDidMount() {\n    verifyUser();\n    if (localStorage.getItem('authToken')) {\n      const name = localStorage.getItem('name');\n      const email = localStorage.getItem('email');\n      const user = { name, email };\n      user && this.setState({\n        currentUser: user\n      })\n    }\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <Header />\n          <Route path=\"/login\" render={() => (\n          <LoginForm\n            handleLogin={this.handleLogin}\n          />\n        )} />\n        {this.state.currentUser ?\n          <div>\n            <h3>Hello, {this.state.currentUser.name}</h3> \n            <Route path=\"/hotels\" render={() => (<HotelContainer />)} />\n            <Route path=\"/reservation\" render={() => (<ReservationContainer />)} />\n            <button onClick={this.handleLogout} id=\"logoutButton\">Logout</button>\n          </div>\n          :\n          <div>\n              <Route path=\"/signup\" render={() => (\n          <SignUpForm\n            handleRegister={this.handleRegister}\n            errorText={this.state.errorText}\n          />\n        )} />\n          </div>\n        }\n        {/* <Route path=\"/login\" render={() => (\n          <LoginForm\n            handleLogin={this.handleLogin}\n          />\n        )} /> */}\n        {/* <Route path=\"/signup\" render={() => (\n          <SignUpForm\n            handleRegister={this.handleRegister}\n            errorText={this.state.errorText}\n          />\n        )} /> */}\n        <Route path=\"/home\" render={() => (<Home />)} />\n        <Route path=\"/overview\" render={() => (<Overview />)} />\n        <Footer />\n      </div>\n    );\n  }\n}\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}