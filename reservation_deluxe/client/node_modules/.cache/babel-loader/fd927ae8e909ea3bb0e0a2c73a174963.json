{"ast":null,"code":"import _regeneratorRuntime from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';var api=axios.create({baseURL:\"http://localhost:3000\"});//Login\nexport var loginUser=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(loginData){var resp;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return api.post('/auth/login',loginData);case 2:resp=_context.sent;console.log(resp);api.defaults.headers.common.authorization=\"Bearer \".concat(resp.data.auth_token);localStorage.setItem('authToken',resp.data.auth_token);// localStorage.setItem('name', resp.data.user.name);\n// localStorage.setItem('email', resp.data.user.email);\nreturn _context.abrupt(\"return\",resp.data.user);case 7:case\"end\":return _context.stop();}}},_callee);}));return function loginUser(_x){return _ref.apply(this,arguments);};}();//Register\nexport var registerUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(registerData){var resp;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return api.post('/signup',registerData);case 2:resp=_context2.sent;api.defaults.headers.common.authorization=\"Bearer \".concat(resp.data.auth_token);localStorage.setItem('authToken',resp.data.auth_token);localStorage.setItem('name',resp.data.user.name);localStorage.setItem('email',resp.data.user.email);return _context2.abrupt(\"return\",resp.data.user);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function registerUser(_x2){return _ref2.apply(this,arguments);};}();//Verify user\nexport var verifyUser=function verifyUser(){var token=localStorage.getItem('authToken');if(token){api.defaults.headers.common.authorization=\"Bearer \".concat(token);}};// Get All hotels\nexport var indexHotels=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var resp;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return api.get('/hotels');case 2:resp=_context3.sent;return _context3.abrupt(\"return\",resp.data);case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function indexHotels(){return _ref3.apply(this,arguments);};}();//Hotels\n//POST hotel\nexport var postHotel=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(postData){var resp;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return api.post('/hotels',postData);case 2:resp=_context4.sent;return _context4.abrupt(\"return\",resp.data);case 4:case\"end\":return _context4.stop();}}},_callee4);}));return function postHotel(_x3){return _ref4.apply(this,arguments);};}();// UPDATE hotel\nexport var putHotel=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(id,postData){var resp,hotel;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return api.put(\"/hotels/\".concat(id),postData);case 2:resp=_context5.sent;hotel={id:id,hotel_name:resp.data.data};return _context5.abrupt(\"return\",hotel);case 5:case\"end\":return _context5.stop();}}},_callee5);}));return function putHotel(_x4,_x5){return _ref5.apply(this,arguments);};}();//Reservations\n// Get All reservations\nexport var indexReservations=/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(id){var resp;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return api.get(\"/hotels/\".concat(id,\"/reservations\"));case 2:resp=_context6.sent;console.log(resp.data);return _context6.abrupt(\"return\",resp.data);case 5:case\"end\":return _context6.stop();}}},_callee6);}));return function indexReservations(_x6){return _ref6.apply(this,arguments);};}();//POST reservation\nexport var postReservation=/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(id,postData){var resp;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:console.log(id);console.log(postData);_context7.next=4;return api.post(\"/hotels/\".concat(id,\"/reservations\"),postData);case 4:resp=_context7.sent;console.log(resp.data);return _context7.abrupt(\"return\",resp.data);case 7:case\"end\":return _context7.stop();}}},_callee7);}));return function postReservation(_x7,_x8){return _ref7.apply(this,arguments);};}();// UPDATE reservation\nexport var putReservation=/*#__PURE__*/function(){var _ref8=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(hotId,resId,postData){var resp;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return api.put(\"/hotels/\".concat(hotId,\"/reservations/\").concat(resId,\"/\"),postData);case 2:resp=_context8.sent;// const reservation = {resId: id, reservation_desc: resp.data.data}\nconsole.log(resp.data);// return reservation;\n// return resp.data;\nreturn _context8.abrupt(\"return\",resp.data);case 5:case\"end\":return _context8.stop();}}},_callee8);}));return function putReservation(_x9,_x10,_x11){return _ref8.apply(this,arguments);};}();//Deletereservation\nexport var deleteReservation=/*#__PURE__*/function(){var _ref9=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(res,hot){var resp;return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return api.delete(\"/hotels/\".concat(hot,\"/reservations/\").concat(res));case 2:resp=_context9.sent;console.log(resp.data);return _context9.abrupt(\"return\",resp.data);case 5:case\"end\":return _context9.stop();}}},_callee9);}));return function deleteReservation(_x12,_x13){return _ref9.apply(this,arguments);};}();","map":{"version":3,"sources":["/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/services/api_helper.js"],"names":["axios","api","create","baseURL","loginUser","loginData","post","resp","console","log","defaults","headers","common","authorization","data","auth_token","localStorage","setItem","user","registerUser","registerData","name","email","verifyUser","token","getItem","indexHotels","get","postHotel","postData","putHotel","id","put","hotel","hotel_name","indexReservations","postReservation","putReservation","hotId","resId","deleteReservation","res","hot","delete"],"mappings":"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","sourcesContent":["import axios from 'axios';\n\n\nconst api = axios.create({\n    baseURL: \"http://localhost:3000\"\n})\n\n//Login\nexport const loginUser = async (loginData) => {\n    const resp = await api.post('/auth/login', loginData);\n    console.log(resp);\n    api.defaults.headers.common.authorization = `Bearer ${resp.data.auth_token}`;\n    localStorage.setItem('authToken', resp.data.auth_token);\n    // localStorage.setItem('name', resp.data.user.name);\n    // localStorage.setItem('email', resp.data.user.email);\n    return resp.data.user;\n  }\n\n\n  //Register\n\n  export const registerUser = async(registerData) => {\n      // try{\n        const resp = await api.post('/signup', registerData);\n        api.defaults.headers.common.authorization = `Bearer ${resp.data.auth_token}`;\n        localStorage.setItem('authToken', resp.data.auth_token);\n        localStorage.setItem('name', resp.data.user.name);\n        localStorage.setItem('email', resp.data.user.email);\n        return resp.data.user;\n      // }catch (e) {\n      //   console.log(e.response);\n      //   if (e.respose.status === 422) {\n      //     return {errorMessage: \"Email is already associated with a user, please login to continue\"}\n      //   }\n      // }\n  }\n\n  //Verify user\n  export const verifyUser = () => {\n    const token = localStorage.getItem('authToken');\n    if (token) {\n      api.defaults.headers.common.authorization = `Bearer ${token}`;\n    }\n  }\n\n    // Get All hotels\n    export const indexHotels = async () => {\n      const resp = await api.get('/hotels');  \n      // console.log(resp)\n      return resp.data;\n    }\n    \n    //Hotels\n    //POST hotel\n    export const postHotel = async (postData) => {\n      const resp = await api.post('/hotels', postData);\n      return resp.data;\n    }\n    \n    // UPDATE hotel\n    export const putHotel= async (id, postData) => {\n      const resp = await api.put(`/hotels/${id}`, postData);\n      const hotel = {id: id, hotel_name: resp.data.data}\n      return hotel;\n    }\n\n  //Reservations\n  // Get All reservations\n  export const indexReservations = async (id) => {\n    const resp = await api.get(`/hotels/${id}/reservations`);\n    console.log(resp.data);\n    return resp.data;\n  }\n  \n  //POST reservation\n  export const postReservation = async (id, postData) => {\n    console.log(id);\n    console.log(postData);\n    const resp = await api.post(`/hotels/${id}/reservations`, postData);\n    console.log(resp.data);\n    return resp.data;\n  }\n  \n  // UPDATE reservation\n  export const putReservation= async ( hotId ,resId,  postData) => {\n   \n    const resp = await api.put(`/hotels/${hotId }/reservations/${resId}/`, postData);\n    // const reservation = {resId: id, reservation_desc: resp.data.data}\n    console.log(resp.data);\n    // return reservation;\n    // return resp.data;\n    return resp.data\n  }\n\n    //Deletereservation\n    export const deleteReservation = async (res, hot) => {\n      // console.log(id);\n      // console.log(postData);\n      const resp = await api.delete(`/hotels/${hot}/reservations/${res}`);\n      console.log(resp.data);\n      return resp.data;\n    }"]},"metadata":{},"sourceType":"module"}