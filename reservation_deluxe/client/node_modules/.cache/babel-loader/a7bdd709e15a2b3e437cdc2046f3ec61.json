{"ast":null,"code":"var _jsxFileName = \"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/components/HotelsContainer.js\";\nimport React, { Component } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport { indexHotels, postHotel, putHotel, verifyUser } from '../services/api_helper';\nimport CreateHotelList from './CreateHotelList';\nimport SingleHotel from './SingleHotel';\nimport HotelForm from './HotelForm';\nimport UpdateHotelForm from './UpdateHotelForm';\n\nclass HotelContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getAllHotels = async () => {\n      const hotels = await indexHotels();\n      this.setState({\n        hotels\n      });\n    };\n\n    this.createHotel = async hotelData => {\n      console.log(hotelData);\n      const newHotel = await postHotel(hotelData);\n      this.setState({\n        hotels: [...this.state.hotels, newHotel]\n      });\n      this.props.history.push(\"/hotels\");\n    };\n\n    this.updateHotel = async (id, hotelData) => {\n      const updatedHotel = await putHotel(id, hotelData);\n      const changedHotels = this.state.hotels.map(hotel => parseInt(hotel.id) === parseInt(id) ? updatedHotel : hotel);\n      console.log(changedHotels);\n      this.setState({\n        hotels: changedHotels\n      });\n      this.props.history.push(\"/hotels\");\n    };\n\n    this.state = {\n      hotels: []\n    };\n  }\n\n  componentDidMount() {\n    verifyUser();\n    this.getAllHotels();\n  } // READ ALL THE TODOS\n\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(Route, {\n      exact: true,\n      path: \"/hotels\",\n      render: () => React.createElement(CreateHotelList, {\n        hotels: this.state.hotels,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }), React.createElement(Route, {\n      exact: true,\n      path: \"/hotels/:id\",\n      render: props => React.createElement(SingleHotel, {\n        hotelId: props.match.params.id,\n        hotels: this.state.hotels,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), \"}\", React.createElement(Route, {\n      path: \"/hotels/new\",\n      render: () => React.createElement(HotelForm, {\n        createHotel: this.createHotel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(Route, {\n      path: \"/hotels/:id/edit\",\n      render: props => React.createElement(UpdateHotelForm, {\n        hotels: this.state.hotels,\n        updatehotel: this.updateHotel,\n        hotelId: props.match.params.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default withRouter(HotelContainer);","map":{"version":3,"sources":["/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/components/HotelsContainer.js"],"names":["React","Component","Route","withRouter","indexHotels","postHotel","putHotel","verifyUser","CreateHotelList","SingleHotel","HotelForm","UpdateHotelForm","HotelContainer","constructor","props","getAllHotels","hotels","setState","createHotel","hotelData","console","log","newHotel","state","history","push","updateHotel","id","updatedHotel","changedHotels","map","hotel","parseInt","componentDidMount","render","match","params"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Route, withRouter } from 'react-router-dom';\nimport { indexHotels, postHotel , putHotel, verifyUser } from '../services/api_helper';\nimport CreateHotelList from './CreateHotelList';\nimport SingleHotel from './SingleHotel';\nimport HotelForm from './HotelForm';\nimport UpdateHotelForm from './UpdateHotelForm';\n\nclass HotelContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hotels: []\n    }\n  }\n\n  componentDidMount() {\n    verifyUser();\n    this.getAllHotels();\n  }\n\n  // READ ALL THE TODOS\n  getAllHotels = async () => {\n    const hotels = await indexHotels();\n    this.setState({ hotels});\n  }\n\n  //CREATE THE TODO\n  createHotel = async (hotelData) => {\n    console.log(hotelData);\n    const newHotel = await postHotel(hotelData);\n    this.setState({\n      hotels: [...this.state.hotels, newHotel]\n    })\n    this.props.history.push(\"/hotels\");\n  }\n\n  // UPDATE THE TODO\n  updateHotel = async (id, hotelData) => {\n    const updatedHotel = await putHotel(id, hotelData);\n    const changedHotels = this.state.hotels.map(hotel => parseInt(hotel.id) === parseInt(id) ? updatedHotel : hotel);\n    console.log(changedHotels);\n    this.setState({ hotels: changedHotels });\n    this.props.history.push(\"/hotels\");\n  }\n\n  render() {\n    return (\n      <div>\n        <Route exact path=\"/hotels\" render={() => (\n          <CreateHotelList\n            hotels={this.state.hotels}\n          />\n        )} />\n          <Route exact path=\"/hotels/:id\" render={(props) => (\n            <SingleHotel\n              hotelId={props.match.params.id}\n              hotels={this.state.hotels}\n            />\n          )} />}\n        <Route path=\"/hotels/new\" render={() => (\n          <HotelForm\n            createHotel={this.createHotel}\n          />\n        )} />\n        <Route path=\"/hotels/:id/edit\" render={(props) => (\n          <UpdateHotelForm\n          hotels={this.state.hotels}\n            updatehotel={this.updateHotel}\n            hotelId={props.match.params.id}\n          />\n        )} />\n      </div>\n    )\n  }\n}\n\nexport default withRouter(HotelContainer);\n"]},"metadata":{},"sourceType":"module"}