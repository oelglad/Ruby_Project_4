{"ast":null,"code":"import _toConsumableArray from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Route,withRouter,Switch}from'react-router-dom';import{indexHotels,postHotel,putHotel,verifyUser}from'../services/api_helper';import CreateHotelList from'./CreateHotelList';import SingleHotel from'./SingleHotel';import HotelForm from'./HotelForm';var HotelContainer=/*#__PURE__*/function(_Component){_inherits(HotelContainer,_Component);function HotelContainer(props){var _this;_classCallCheck(this,HotelContainer);_this=_possibleConstructorReturn(this,_getPrototypeOf(HotelContainer).call(this,props));_this.getAllHotels=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var hotels;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return indexHotels();case 2:hotels=_context.sent;_this.setState({hotels:hotels});case 4:case\"end\":return _context.stop();}}},_callee);}));_this.createHotel=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(hotelData){var newHotel;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(hotelData);_context2.next=3;return postHotel(hotelData);case 3:newHotel=_context2.sent;_this.setState({hotels:[].concat(_toConsumableArray(_this.state.hotels),[newHotel])});_this.props.history.push(\"/hotels\");case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}();_this.state={hotels:[{hotel_name:\"\",city:\"\",state:\"\",zip_code:\"\",biography:\"\",img_url:\"\"}]};return _this;}_createClass(HotelContainer,[{key:\"componentDidMount\",value:function componentDidMount(){verifyUser();this.getAllHotels();}},{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(Switch,null,React.createElement(Route,{exact:true,path:\"/hotels\",render:function render(){return React.createElement(CreateHotelList,{hotels:_this2.state.hotels});}}),React.createElement(Route,{exact:true,path:\"/hotels/new\",render:function render(){return React.createElement(HotelForm,{createHotel:_this2.createHotel});}}),React.createElement(Route,{exact:true,path:\"/hotels/:id\",render:function render(props){return React.createElement(SingleHotel,{hotelId:props.match.params.id,hotels:_this2.state.hotels});}})));}}]);return HotelContainer;}(Component);export default withRouter(HotelContainer);","map":{"version":3,"sources":["/Users/omniaelglad/Desktop/ruby/Ruby_Project_4/reservation_deluxe/client/src/components/HotelsContainer.js"],"names":["React","Component","Route","withRouter","Switch","indexHotels","postHotel","putHotel","verifyUser","CreateHotelList","SingleHotel","HotelForm","HotelContainer","props","getAllHotels","hotels","setState","createHotel","hotelData","console","log","newHotel","state","history","push","hotel_name","city","zip_code","biography","img_url","match","params","id"],"mappings":"2uCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,KAAT,CAAgBC,UAAhB,CAA4BC,MAA5B,KAA0C,kBAA1C,CACA,OAASC,WAAT,CAAsBC,SAAtB,CAAkCC,QAAlC,CAA4CC,UAA5C,KAA8D,wBAA9D,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,C,GAGMC,CAAAA,c,wEACJ,wBAAYC,KAAZ,CAAmB,gDACjB,gFAAMA,KAAN,GADiB,MAoBnBC,YApBmB,sEAoBJ,oKACQT,CAAAA,WAAW,EADnB,QACPU,MADO,eAEb,MAAKC,QAAL,CAAc,CAAED,MAAM,CAANA,MAAF,CAAd,EAFa,sDApBI,SAyBnBE,WAzBmB,2FAyBL,kBAAOC,SAAP,mIACZC,OAAO,CAACC,GAAR,CAAYF,SAAZ,EADY,uBAEWZ,CAAAA,SAAS,CAACY,SAAD,CAFpB,QAENG,QAFM,gBAGZ,MAAKL,QAAL,CAAc,CACZD,MAAM,8BAAM,MAAKO,KAAL,CAAWP,MAAjB,GAAyBM,QAAzB,EADM,CAAd,EAGA,MAAKR,KAAL,CAAWU,OAAX,CAAmBC,IAAnB,CAAwB,SAAxB,EANY,wDAzBK,gEAGjB,MAAKF,KAAL,CAAa,CACXP,MAAM,CAAE,CAAC,CACTU,UAAU,CAAE,EADH,CAETC,IAAI,CAAE,EAFG,CAGTJ,KAAK,CAAE,EAHE,CAITK,QAAQ,CAAE,EAJD,CAKTC,SAAS,CAAE,EALF,CAMTC,OAAO,CAAE,EANA,CAAD,CADG,CAAb,CAHiB,aAalB,C,wFAEmB,CAClBrB,UAAU,GACV,KAAKM,YAAL,GACD,C,uCAgBQ,iBACP,MACE,gCACE,oBAAC,MAAD,MACE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,SAAlB,CAA4B,MAAM,CAAE,wBAClC,qBAAC,eAAD,EACE,MAAM,CAAE,MAAI,CAACQ,KAAL,CAAWP,MADrB,EADkC,EAApC,EADF,CAME,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,aAAlB,CAAgC,MAAM,CAAE,wBACtC,qBAAC,SAAD,EACE,WAAW,CAAE,MAAI,CAACE,WADpB,EADsC,EAAxC,EANF,CAWE,oBAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,aAAlB,CAAgC,MAAM,CAAE,gBAACJ,KAAD,QACtC,qBAAC,WAAD,EACE,OAAO,CAAEA,KAAK,CAACiB,KAAN,CAAYC,MAAZ,CAAmBC,EAD9B,CAEE,MAAM,CAAE,MAAI,CAACV,KAAL,CAAWP,MAFrB,EADsC,EAAxC,EAXF,CADF,CADF,CAuBD,C,4BA3D0Bd,S,EA8D7B,cAAeE,CAAAA,UAAU,CAACS,cAAD,CAAzB","sourcesContent":["import React, { Component } from 'react';\nimport { Route, withRouter, Switch } from 'react-router-dom';\nimport { indexHotels, postHotel , putHotel, verifyUser } from '../services/api_helper';\nimport CreateHotelList from './CreateHotelList';\nimport SingleHotel from './SingleHotel';\nimport HotelForm from './HotelForm';\n\n\nclass HotelContainer extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      hotels: [{\n      hotel_name: \"\",\n      city: \"\",\n      state: \"\",\n      zip_code: \"\",\n      biography: \"\",\n      img_url: \"\"\n      }]\n    }\n  }\n\n  componentDidMount() {\n    verifyUser();\n    this.getAllHotels();\n  }\n\n  getAllHotels = async () => {\n    const hotels = await indexHotels();\n    this.setState({ hotels});\n  }\n\n  createHotel = async (hotelData) => {\n    console.log(hotelData);\n    const newHotel = await postHotel(hotelData);\n    this.setState({\n      hotels: [...this.state.hotels, newHotel]\n    })\n    this.props.history.push(\"/hotels\");\n  }\n\n  render() {\n    return (\n      <div>\n        <Switch>\n          <Route exact path=\"/hotels\" render={() => (\n            <CreateHotelList\n              hotels={this.state.hotels}\n            />\n          )} />\n          <Route exact path=\"/hotels/new\" render={() => (\n            <HotelForm\n              createHotel={this.createHotel}\n            />\n          )} />\n          <Route exact path=\"/hotels/:id\" render={(props) => (\n            <SingleHotel\n              hotelId={props.match.params.id}\n              hotels={this.state.hotels}\n            />\n            \n          )} />\n        </Switch>\n      </div>\n    )\n  }\n}\n\nexport default withRouter(HotelContainer);\n"]},"metadata":{},"sourceType":"module"}